<!doctype html>
<html lang="vi">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Domain</title>

<style>
@font-face{
  font-family:"SF Pro Display";
  src: url(../font/SFPRODISPLAYBOLD.OTF) format("opentype");
  font-weight:700;
}
html,body{
  margin:0;
  width:100%;
  height:100%;
  background:transparent;
  overflow:hidden;
}
svg{
  width:100%;
  height:100%;
  text-rendering:geometricPrecision;
  shape-rendering:geometricPrecision;
}
</style>
</head>

<body>
<svg viewBox="0 0 1920 1080" preserveAspectRatio="xMidYMid meet">
<defs>

  <!-- ===== GOLD 4K GIỐNG CODE MẪU ===== -->
  <linearGradient id="gold4k" x1="0" y1="0" x2="1" y2="0">
    <stop offset="0%"   stop-color="#d9b46a"/>
    <stop offset="25%"  stop-color="#f0ddb0"/>
    <stop offset="50%"  stop-color="#fff6dc"/>
    <stop offset="75%"  stop-color="#f0ddb0"/>
    <stop offset="100%" stop-color="#c9973f"/>
  </linearGradient>

  <!-- ===== CÁP VIỀN CHỮ  ===== -->
  <linearGradient id="edgeCap" x1="0" y1="0" x2="0" y2="1">
    <stop offset="0%"   stop-color="#b78945"/>
    <stop offset="50%"  stop-color="#8a632c"/>
    <stop offset="100%" stop-color="#b78945"/>
  </linearGradient>

  <!-- ===== MICRO RIM 4K ===== -->
  <linearGradient id="microRim" x1="0" y1="0" x2="0" y2="1">
    <stop offset="0%"   stop-color="#fff9e6"/>
    <stop offset="100%" stop-color="#f3e3bd"/>
  </linearGradient>

  <!-- ===== BÓNG ĐỔ SANG  ===== -->
  <filter id="softLampShadow" x="-35%" y="-35%" width="170%" height="170%">
    <feDropShadow dx="0" dy="12" stdDeviation="6" flood-color="rgba(40,22,10,0.75)"/>
  </filter>

  <!-- ===== SPARKLE NHẸ ÁNH KIM  ===== -->
  <filter id="sparkle4k" x="-20%" y="-20%" width="140%" height="140%">
    <feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="1" seed="2" result="n"/>
    <feColorMatrix in="n" type="matrix"
      values="
        1 0 0 0 0
        0 1 0 0 0
        0 0 1 0 0
        0 0 0 0.18 0" result="a"/>
    <feComposite in="a" in2="SourceGraphic" operator="in" result="spark"/>
    <feBlend in="SourceGraphic" in2="spark" mode="screen"/>
  </filter>

</defs>

<!-- ===== CẤU TRÚC ===== -->
<g font-family="SF Pro Display, system-ui"
   font-weight="700"
   text-anchor="middle"
   stroke-linejoin="round"
   stroke-linecap="round"
   transform="scale(1,0.9) translate(0,110)">

  <!-- ================= HITCLUB ================= -->
  <!-- Edge Cap + Shadow -->
  <text x="960" y="520"
        font-size="205"
        letter-spacing="0.13em"
        fill="none"
        stroke="url(#edgeCap)"
        stroke-width="11"
        filter="url(#softLampShadow)"
        class="hitclub autofit"></text>

  <!-- Gold Body -->
  <text x="960" y="520"
        font-size="205"
        letter-spacing="0.13em"
        fill="url(#gold4k)"
        stroke="none"
        filter="url(#sparkle4k)"
        class="hitclub autofit"></text>

  <!-- Micro Rim (viền sáng mảnh) -->
  <text x="960" y="520"
        font-size="205"
        letter-spacing="0.13em"
        fill="none"
        stroke="url(#microRim)"
        stroke-width="2"
        opacity="0.7"
        class="hitclub autofit"></text>

  <!-- ================= GO88 ================= -->
  <text x="960" y="759"
        font-size="205"
        letter-spacing="0.09em"
        fill="none"
        stroke="url(#edgeCap)"
        stroke-width="11"
        filter="url(#softLampShadow)"
        class="go88 autofit"></text>

  <text x="960" y="759"
        font-size="205"
        letter-spacing="0.09em"
        fill="url(#gold4k)"
        stroke="none"
        filter="url(#sparkle4k)"
        class="go88 autofit"></text>

  <text x="960" y="759"
        font-size="205"
        letter-spacing="0.09em"
        fill="none"
        stroke="url(#microRim)"
        stroke-width="2"
        opacity="0.7"
        class="go88 autofit"></text>

</g>
</svg>

<script>
const CONFIG_URL = "../config.json";
let lastDomainsKey = null;

async function applyConfig() {
  try {
    const res = await fetch(CONFIG_URL + "?t=" + Date.now(), { cache: "no-cache" });
    if (!res.ok) throw new Error("Không load được config.json");

    const cfg = await res.json();
    const domains = Array.isArray(cfg.domains0b) ? cfg.domains0b : [];
    const d0 = domains[0] || "";
    const d1 = domains[1] || "";

    const key = d0 + "|" + d1;
    if (key === lastDomainsKey) return;

    lastDomainsKey = key;

    document.querySelectorAll(".hitclub").forEach(el => {
      if (el.textContent !== d0) el.textContent = d0;
    });
    document.querySelectorAll(".go88").forEach(el => {
      if (el.textContent !== d1) el.textContent = d1;
    });

  } catch (e) {
    console.error(e);
  }
}

applyConfig();
setInterval(applyConfig, 10000);
</script>
</body>
</html>
